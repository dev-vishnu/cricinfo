{"version":3,"sources":["winston_config.js"],"names":["options","file","level","filename","appRoot","handleExceptions","json","maxsize","maxFiles","colorize","console","logger","process","env","logging","transports","_transports","File","exitOnError","Console","stream","write","message","info"],"mappings":";;;;;;AAAA;;AACA;;;;;;AAGA,IAAMA,UAAU;AACdC,QAAM;AACJC,WAAO,OADH;AAEJC,cAAaC,qBAAb,sBAFI;AAGJC,sBAAkB,IAHd;AAIJC,UAAM,IAJF;AAKJC,aAAS,OALL;AAMJC,cAAU,CANN;AAOJC,cAAU;AAPN,GADQ;AAUdC,WAAS;AACPR,WAAO,OADA;AAEPG,sBAAkB,IAFX;AAGPC,UAAM,IAHC;AAIPG,cAAU;AAJH;AAVK,CAAhB;AAiBA,IAAIE,eAAJ;AACA,IAAIC,QAAQC,GAAR,CAAYC,OAAZ,KAAwB,KAA5B,EAAmC;AACjCH,WAAS,2BAAa;AACpBI,gBAAY,CACV,IAAIC,oBAAYC,IAAhB,CAAqBjB,QAAQC,IAA7B,CADU,CADQ;AAIpBiB,iBAAa;AAJO,GAAb,CAAT;AAMD,CAPD,MAOO;AACLP,WAAS,2BAAa;AACpBI,gBAAY,CACV,IAAIC,oBAAYC,IAAhB,CAAqBjB,QAAQC,IAA7B,CADU,EAEV,IAAIe,oBAAYG,OAAhB,CAAwBnB,QAAQU,OAAhC,CAFU,CADQ;AAKpBQ,iBAAa;AALO,GAAb,CAAT;AAOD;;AAEDP,OAAOS,MAAP,GAAgB;AACdC,OADc,iBACRC,OADQ,EACC;AACbX,WAAOY,IAAP,CAAYD,OAAZ;AACD;AAHa,CAAhB;;kBAMe,EAAEX,cAAF,E","file":"winston_config.js","sourceRoot":"/home/dev/project-players-01/src/common","sourcesContent":["import { createLogger, transports as _transports } from 'winston';\nimport appRoot from 'app-root-path';\n\n\nconst options = {\n  file: {\n    level: 'debug',\n    filename: `${appRoot}/src/logs/app.log`,\n    handleExceptions: true,\n    json: true,\n    maxsize: 5242880,\n    maxFiles: 5,\n    colorize: false,\n  },\n  console: {\n    level: 'debug',\n    handleExceptions: true,\n    json: true,\n    colorize: true,\n  },\n};\nlet logger;\nif (process.env.logging === 'off') {\n  logger = createLogger({\n    transports: [\n      new _transports.File(options.file),\n    ],\n    exitOnError: false,\n  });\n} else {\n  logger = createLogger({\n    transports: [\n      new _transports.File(options.file),\n      new _transports.Console(options.console),\n    ],\n    exitOnError: false,\n  });\n}\n\nlogger.stream = {\n  write(message) {\n    logger.info(message);\n  },\n};\n\nexport default { logger };\n"]}